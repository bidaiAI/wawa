# ============================================================
# mortal-ai PLATFORM server configuration
# Copy to .env.platform and fill in your values
# Used by: docker compose --profile platform up platform
# ============================================================

# --- AUTH (REQUIRED) ---
# Secret for signing JWT tokens. Must be long and random.
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
PLATFORM_AUTH_SECRET=change-this-to-a-random-secret

# --- ADMIN ---
# Comma-separated wallet addresses that can access /platform/admin/*
# These wallets sign in via EIP-191 and get admin-level access.
PLATFORM_ADMIN_WALLETS=0xYourAdminWalletAddress

# --- FEES ---
# Shared secret used by platform → AI fee collection (POST /internal/fee-collect)
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
# This same value must be set as PLATFORM_FEE_SECRET in each AI instance's .env
PLATFORM_FEE_SECRET=change-this-to-a-random-fee-secret

# Fee config (can also be changed at runtime via admin dashboard)
PLATFORM_FEE_MARKUP_RATE=0.30         # 30% markup on AI API costs
PLATFORM_FEE_COLLECTION_WALLET=0x...  # Wallet to receive fee payments

# --- TWITTER APP (platform-level) ---
# Register at: https://developer.twitter.com
# App needs Read and Write permissions + OAuth 1.0a
# These keys stay on the platform — NEVER written to AI .env files
PLATFORM_TWITTER_CONSUMER_KEY=
PLATFORM_TWITTER_CONSUMER_SECRET=
PLATFORM_TWITTER_CALLBACK_URL=https://api.mortal-ai.net/platform/twitter/callback

# Shared secret injected into each AI .env for tweet proxy auth
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
PLATFORM_TWEET_SECRET=change-this-to-a-random-tweet-secret

# Platform API base URL (used in AI .env template for tweet proxy)
PLATFORM_API_URL=https://api.mortal-ai.net

# --- LLM KEYS (shared pool for all hosted AIs) ---
# These are encrypted and stored in data/platform/api_keys.json
# You can also set them here for initial bootstrap — platform will
# encrypt and store them at first start, then use the encrypted store.
# Supports comma-separated keys (first active, rest for future rotation).
GEMINI_API_KEY=
DEEPSEEK_API_KEY=
OPENROUTER_API_KEY=

# --- BLOCKCHAIN ---
BASE_RPC_URL=https://mainnet.base.org
BSC_RPC_URL=https://bsc-dataseed.binance.org

# Platform operator wallet — pays for gas when seeding new AI wallets
# This is NOT the AI wallet (that's auto-generated per AI)
PRIVATE_KEY=0x...

# Factory contract addresses (deployed once per chain)
# BASE_FACTORY_ADDRESS=0x...
# BSC_FACTORY_ADDRESS=0x...

# --- PLATFORM SERVER ---
HOST=0.0.0.0
PORT=8001
LOG_LEVEL=INFO

# Data directory for platform state (deployments, fees, costs, keys)
PLATFORM_DATA_DIR=data

# First port assigned to AI containers (increments per new AI)
PLATFORM_BASE_PORT=8100

# Docker image to use for AI instances
MORTAL_DOCKER_IMAGE=mortal-ai:latest
MORTAL_DOCKER_NETWORK=mortal-net

# --- CORS ---
PLATFORM_ALLOWED_ORIGINS=https://mortal-ai.net,https://www.mortal-ai.net,http://localhost:3000
